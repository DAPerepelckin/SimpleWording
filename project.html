<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<label>
    <input type="text">
</label> word: <span id="wordsOutput">none</span>
<fieldset>
    <legend>Watch</legend>
    <a href="#" id="start" onclick="startStopwatch()">Start</a>&nbsp;

    <a href="#" id="stop" onclick="stopStopwatch()">Stop</a>&nbsp;

    <a href="#" id="reset" onclick="resetStopwatch()">Reset</a>&nbsp;

    <span id="s_minutes">00</span>:
    <span id="s_seconds">00</span>:
    <span id="s_ms">000</span>
</fieldset>
similarity: <span id="similarityText">0</span>
<script>
    function startStopwatch() {
        if (paused) {
            paused = false;
            offset -= Date.now();
            render();
        }
    }

    function stopStopwatch() {
        if (!paused) {
            paused = true;
            offset += Date.now();
        }
    }

    function resetStopwatch() {
        if (paused) {
            offset = 0;
            render();
        } else {
            offset = -Date.now();
        }
    }

    function format(value, scale, modulo, padding) {
        value = Math.floor(value / scale) % modulo;
        return value.toString().padStart(padding, 0);
    }

    function render() {
        let value = paused ? offset : Date.now() + offset;

        document.querySelector('#s_ms').textContent = format(value, 1, 1000, 3);
        document.querySelector('#s_seconds').textContent = format(value, 1000, 60, 2);
        document.querySelector('#s_minutes').textContent = format(value, 60000, 60, 2);

        if (!paused) {
            requestAnimationFrame(render);
        }
    }

    let offset = 0,
        paused = true;

    render();


    let ternarySearchTree = function () {
        let root,
            numWords = 0,
            numNodes = 0;

        function insert(node, chars) {
            let firstChar = chars.charAt(0);

            if (!firstChar) return null;

            if (!node) {
                node = {
                    character: firstChar,
                    left: null,
                    middle: null,
                    right: null,
                    word: false
                };
                numNodes += 1;
            }

            if (!root) root = node;

            if (firstChar < node.character) {
                node.left = insert(node.left, chars);
            } else if (firstChar === node.character) {
                if (chars.length > 1) {
                    node.middle = insert(node.middle, chars.slice(1));
                } else {
                    node.word = true;
                    numWords += 1;
                }
            } else {
                node.right = insert(node.right, chars);
            }

            return node;
        }

        function search(node, chars) {
            let firstChar = chars.charAt(0),
                rest;

            if (!node || !firstChar) return null;

            if (firstChar < node.character) {
                return search(node.left, chars);
            } else if (firstChar > node.character) {
                return search(node.right, chars);
            } else {
                rest = chars.slice(1);
                if (!rest) {
                    return node;
                } else {
                    return search(node.middle, rest);
                }
            }

            return null;
        }
        return {
            add: function (word) {
                insert(root, word);
            },
            has: function (prefix, isWord) {
                let foundNode = search(root, prefix);
                return foundNode
                    ? isWord ? foundNode.word : true
                    : false;
            }
        }
    };

    let map = new Map([
        [",.h", 1],
        [",hfr", 2],
        [",jkmy", 3],
        [",rb", 4],
        [",tphf", 5],
        [";bkjq", 6],
        [";bkmt", 7],
        [";fk", 8],
        ["3", 9],
        ["37", 10],
        ["3-7", 11],
        ["7", 12],
        ["accg", 13],
        ["b:c", 14],
        ["b;c", 15],
        ["bcg", 16],
        ["bcgjky", 17],
        ["bvjcnm", 18],
        ["byn", 19],
        ["bynthytn-ds,jh", 20],
        ["byy", 21],
        ["cd", 22],
        ["cdzp", 23],
        ["cel", 24],
        ["celb", 25],
        ["cfljdsq", 26],
        ["cghf", 27],
        ["cjj,", 28],
        ["cke", 29],
        ["cnhj", 30],
        ["cov", 31],
        ["cthn", 32],
        ["cvth", 33],
        ["cybk", 34],
        ["cyz", 35],
        ["ddjl", 36],
        ["dfrw", 37],
        ["dhf", 38],
        ["djl", 39],
        ["djpd", 40],
        ["djpuk", 41],
        ["dpscrf", 42],
        ["ds,jh", 43],
        ["dsg", 44],
        ["dsgb", 45],
        ["dsgk", 46],
        ["dst", 47],
        ["dthy", 48],
        ["edtljvktybt", 49],
        ["egjnht,k", 50],
        ["elfk", 51],
        ["eljc", 52],
        ["ep", 53],
        ["evth", 54],
        ["evtti", 55],
        ["exfcn", 56],
        ["extn", 57],
        ["fccbcn", 58],
        ["fht", 59],
        ["fkbv", 60],
        ["gah", 61],
        ["gfc", 62],
        ["ghbcn", 63],
        ["ghbd", 64],
        ["ghfd", 65],
        ["ghj", 66],
        ["ghjbpd", 67],
        ["ghjujkjc", 68],
        ["ghtrh", 69],
        ["gj;fk", 70],
        ["gj;ty", 71],
        ["gjcj", 72],
        ["gjckt", 73],
        ["gjcn", 74],
        ["gjcnhjbnm", 75],
        ["gji", 76],
        ["gjln", 77],
        ["gjvj", 78],
        ["gkfy", 79],
        ["gtyc", 80],
        ["hc", 81],
        ["hf,j", 82],
        ["hfcgh", 83],
        ["hfcn", 84],
        ["hfpdj", 85],
        ["hfpdtc", 86],
        ["hfphtitybt", 87],
        ["hj,jn", 88],
        ["hjcht", 89],
        ["ht,t", 90],
        ["hti", 91],
        ["htq", 92],
        ["htrjycnherwbz", 93],
        ["htubcnhfw", 94],
        ["iflft", 95],
        ["irj", 96],
        ["j,c", 97],
        ["j,o", 98],
        ["j,oth", 99],
        ["j[hf", 100],
        ["j],trn", 101],
        ["jgkfn", 102],
        ["jhe;", 103],
        ["jnvt", 104],
        ["juhf", 105],
        ["jyk", 106],
        ["kbx", 107],
        ["kmu", 108],
        ["kr", 109],
        ["'kt", 110],
        ["L", 111],
        ["lbcn", 112],
        ["le,k", 113],
        ["lj", 114],
        ["ljku", 115],
        ["ljrevtyn", 116],
        ["ljv", 117],
        ["ltn", 118],
        ["nhel", 119],
        ["nhty", 120],
        ["nhtybhjd", 121],
        ["ns", 122],
        ["ntcn", 123],
        ["pfg", 124],
        ["pfgb", 125],
        ["pfgh", 126],
        ["pfgkfn", 127],
        ["pfhtu", 128],
        ["pflj", 129],
        ["pfrk.xty", 130],
        ["pfuc", 131],
        ["pfuhf", 132],
        ["pfve;", 133],
        ["pfyz", 134],
        ["pfzd", 135],
        ["pfzdkty", 136],
        ["pljhj", 137],
        ["rf,b", 138],
        ["rfg", 139],
        ["rfgb", 140],
        ["rfgbnfkmysq", 141],
        ["rflf", 142],
        ["rhtl", 143],
        ["rjdb", 144],
        ["rjhj", 145],
        ["rjv", 146],
        ["rkf", 147],
        ["tcb", 148],
        ["tuhy", 149],
        ["ub,l", 150],
        ["ub<l", 151],
        ["ufb", 152],
        ["ugpe", 153],
        ["ujcg", 154],
        ["ujk", 155],
        ["ujkjc", 156],
        ["ukfd", 157],
        ["vby", 158],
        ["vbybcnh", 159],
        ["vbyc", 160],
        ["vbyrj", 161],
        ["vbyw", 162],
        ["vdl", 163],
        ["vfn", 164],
        ["vfnr", 165],
        ["vfnth", 166],
        ["vfrc", 167],
        ["vfrcen", 168],
        ["vj;ti", 169],
        ["vtlb", 170],
        ["wbah", 171],
        ["wbr", 172],
        ["yfhrjn", 173],
        ["yfk", 174],
        ["yldk", 175],
        ["ytld", 176],
        ["ytldb", 177],
        ["алим", 178],
        ["аре", 179],
        ["ассист", 180],
        ["безра", 181],
        ["бки", 182],
        ["больн", 183],
        ["брак", 184],
        ["брак", 185],
        ["бюр", 186],
        ["вакц", 187],
        ["ввод", 188],
        ["верн", 189],
        ["взыска", 190],
        ["вод", 191],
        ["возв", 192],
        ["возгл", 193],
        ["вра", 194],
        ["выбор", 195],
        ["вые", 196],
        ["вып", 197],
        ["выпи", 198],
        ["выпл", 199],
        ["гаи", 200],
        ["гибд", 201],
        ["глав", 202],
        ["гол", 203],
        ["голос", 204],
        ["госп", 205],
        ["гпзу", 206],
        ["дет", 207],
        ["дист", 208],
        ["до", 209],
        ["документ", 210],
        ["долг", 211],
        ["дом", 212],
        ["дубл", 213],
        ["ДЭ", 214],
        ["ДЭГ", 215],
        ["дэг", 216],
        ["егрн", 217],
        ["еси", 218],
        ["жал", 219],
        ["жилой", 220],
        ["жилье", 221],
        ["загра", 222],
        ["загс", 223],
        ["задо", 224],
        ["заключен", 225],
        ["замуж", 226],
        ["заня", 227],
        ["зап", 228],
        ["Запи", 229],
        ["заплат", 230],
        ["запр", 231],
        ["зарег", 232],
        ["заяв", 233],
        ["заявлен", 234],
        ["здоро", 235],
        ["зем", 236],
        ["ижс", 237],
        ["инн", 238],
        ["инт", 239],
        ["интернет-выбор", 240],
        ["исп", 241],
        ["исполн", 242],
        ["каби", 243],
        ["када", 244],
        ["кап", 245],
        ["капи", 246],
        ["капитальный", 247],
        ["кла", 248],
        ["кови", 249],
        ["ком", 250],
        ["коро", 251],
        ["кред", 252],
        ["лич", 253],
        ["лк", 254],
        ["льг", 255],
        ["макс", 256],
        ["максут", 257],
        ["мат", 258],
        ["матер", 259],
        ["матк", 260],
        ["мвд", 261],
        ["меди", 262],
        ["мин", 263],
        ["минc", 264],
        ["министр", 265],
        ["минко", 266],
        ["минс", 267],
        ["минц", 268],
        ["можеш", 269],
        ["нал", 270],
        ["наркот", 271],
        ["ндф", 272],
        ["недв", 273],
        ["недвижимость", 274],
        ["обс", 275],
        ["общ", 276],
        ["общер", 277],
        ["объект", 278],
        ["огра", 279],
        ["онл", 280],
        ["оплат", 281],
        ["оруж", 282],
        ["отме", 283],
        ["охра", 284],
        ["пас", 285],
        ["пенс", 286],
        ["план", 287],
        ["подт", 288],
        ["пожал", 289],
        ["пожен", 290],
        ["помо", 291],
        ["после", 292],
        ["посо", 293],
        ["пост", 294],
        ["построить", 295],
        ["пош", 296],
        ["прав", 297],
        ["прекр", 298],
        ["прив", 299],
        ["прист", 300],
        ["про", 301],
        ["проголос", 302],
        ["произв", 303],
        ["пфр", 304],
        ["рабо", 305],
        ["развес", 306],
        ["разво", 307],
        ["разрешение", 308],
        ["распр", 309],
        ["раст", 310],
        ["ребе", 311],
        ["регистрац", 312],
        ["рей", 313],
        ["реконструкция", 314],
        ["реш", 315],
        ["робот", 316],
        ["росре", 317],
        ["рс", 318],
        ["садовый", 319],
        ["св", 320],
        ["связ", 321],
        ["серт", 322],
        ["слу", 323],
        ["смер", 324],
        ["снил", 325],
        ["сня", 326],
        ["сооб", 327],
        ["спра", 328],
        ["стро", 329],
        ["суд", 330],
        ["суди", 331],
        ["сщм", 332],
        ["тест", 333],
        ["трен", 334],
        ["трениров", 335],
        ["труд", 336],
        ["ты", 337],
        ["уведомление", 338],
        ["удал", 339],
        ["удос", 340],
        ["уз", 341],
        ["умееш", 342],
        ["умер", 343],
        ["употребл", 344],
        ["участ", 345],
        ["учет", 346],
        ["фссп", 347],
        ["цик", 348],
        ["цифр", 349],
        ["шадае", 350],
        ["шко", 351],
        ["эле", 352]
    ]);

    let quezes = new Map([
        [[1], "Бюро кредитных историй"],
        [[2], "Брак"],
        [[3], "Больничный"],
        [[4], "Бюро кредитных историй"],
        [[5], "Работа"],
        [[6], "Стройка"],
        [[7], "Стройка"],
        [[8], "Стройка"],
        [[12, 9], "Решаем вместе (жалоба)"],
        [[10], "Выплата 3-7 лет"],
        [[11], "Выплата 3-7 лет"],
        [[13], "Выплата 3-7 лет"],
        [[14], "Стройка"],
        [[15], "Стройка"],
        [[66, 16], "Исполнительное производство (ФССП)"],
        [[17], "Исполнительное производство (ФССП)"],
        [[18], "Стройка"],
        [[19, 155], "Дистанционное электронное голосование"],
        [[20], "Дистанционное электронное голосование"],
        [[21], "ИНН"],
        [[24, 114], "Судебная задолженность (ФССП)"],
        [[24, 128], "Судебная задолженность (ФССП)"],
        [[25], "Справка"],
        [[26], "Стройка"],
        [[27], "Справка"],
        [[28], "Решаем вместе (жалоба)"],
        [[29], "Голосование (ПОС)"],
        [[30], "Стройка"],
        [[31], "Covid"],
        [[32], "Сертификат"],
        [[33], "Смерть"],
        [[34], "СНИЛС"],
        [[35], "Снятие"],
        [[36], "Стройка"],
        [[37], "Вакцинация"],
        [[38], "Врач"],
        [[39], "Водительское удостоверение"],
        [[40], "Удостоверение"],
        [[41, 160], "Министр Минцифры"],
        [[41, 162], "Министр Минцифры"],
        [[42], "ФССП"],
        [[43], "Дистанционное электронное голосование"],
        [[44, 9], "Выплата 3-7 лет"],
        [[45], "Выписка"],
        [[46], "Пособие"],
        [[48], "Удостоверение"],
        [[49], "Стройка"],
        [[50, 173], "Наркотики"],
        [[51, 156], "Дистанционное электронное голосование"],
        [[52], "Удостоверение"],
        [[53], "Есиа"],
        [[54], "Смерть"],
        [[56, 111], "Дистанционное электронное голосование"],
        [[57], "Есиа"],
        [[59], "Арест ФССП"],
        [[60], "Алименты"],
        [[61], "Пенсионный"],
        [[62], "Паспорт"],
        [[63], "ФССП"],
        [[64], "Covid"],
        [[65], "Права/право"],
        [[66], "Исполнительное производство (ФССП)"],
        [[68, 117], "Дистанционное электронное голосование"],
        [[69], "Снятие"],
        [[70], "Решаем вместе (жалоба)"],
        [[71], "Брак"],
        [[72], "Пособие"],
        [[72, 9], "Выплата 3-7 лет"],
        [[74, 22, 114], "ИЖС"],
        [[75], "Стройка"],
        [[76], "Оплата"],
        [[77], "Подтверждение УЗ"],
        [[78], "Решаем вместе (жалоба)"],
        [[79], "Стройка"],
        [[80], "Пенсионный"],
        [[81], "Стройка"],
        [[82], "Работа"],
        [[83], "Голосование (ПОС)"],
        [[84], "Развод"],
        [[85], "Развод"],
        [[86], "Развод"],
        [[87], "Стройка"],
        [[88, 167], "Что я могу"],
        [[89], "Росреестр"],
        [[90], "Ребенок"],
        [[91], "Решаем вместе (жалоба)"],
        [[92], "Голосование (ПОС)"],
        [[93], "Стройка"],
        [[95], "Министр Минцифры"],
        [[96], "Запись"],
        [[97], "Голосование (ПОС)"],
        [[98], "Голосование (ПОС)"],
        [[120, 99], "Дистанционное электронное голосование"],
        [[100], "Удостоверение охранника"],
        [[101], "Стройка"],
        [[102], "Оплата"],
        [[103], "Оружие"],
        [[104], "Отменить"],
        [[105, 47], "Запрет на выезд за рубеж (ФССП)"],
        [[107], "Личный Кабинет"],
        [[108], "Льгота"],
        [[109], "Личный Кабинет"],
        [[110], "Электронный документ"],
        [[156, 112], "Дистанционное электронное голосование"],
        [[113], "Дубликат"],
        [[116, 94, 73, 2], "Документы после заключения брака"],
        [[130, 116, 73, 2], "Документы после заключения брака"],
        [[117], "Стройка"],
        [[118], "Ребенок"],
        [[119], "Работа"],
        [[120], "Дистанционное электронное голосование"],
        [[156, 120], "Дистанционное электронное голосование"],
        [[122, 55], "Что я могу"],
        [[169, 122], "Что я могу"],
        [[123], "Covid"],
        [[124, 38], "Врач"],
        [[125], "Запись"],
        [[126, 47], "Запрет на выезд за рубеж (ФССП)"],
        [[127], "Оплата"],
        [[128], "Есиа"],
        [[131], "Загс"],
        [[132], "Загран-паспорт"],
        [[133], "Брак"],
        [[134], "Работа"],
        [[156, 135], "Дистанционное электронное голосование"],
        [[136, 111], "Дистанционное электронное голосование"],
        [[136, 121], "Дистанционное электронное голосование"],
        [[137], "Здрав"],
        [[138], "Личный Кабинет"],
        [[140], "Маткап"],
        [[141], "Стройка"],
        [[142], "Кадастр"],
        [[143], "Бюро кредитных историй"],
        [[144], "Covid"],
        [[145], "Covid"],
        [[147], "Запись"],
        [[148], "Есиа"],
        [[149], "Росреестр"],
        [[150], "ГИБДД"],
        [[151], "ГИБДД"],
        [[152], "Пособие"],
        [[153], "Стройка"],
        [[154], "Оплата"],
        [[155], "Голосование (ПОС)"],
        [[156, 19], "Дистанционное электронное голосование"],
        [[156, 106], "Дистанционное электронное голосование"],
        [[160, 157], "Министр Минцифры"],
        [[162, 157], "Министр Минцифры"],
        [[158, 23], "Министерство цифрового развития"],
        [[158, 146], "Министерство цифрового развития"],
        [[171, 158], "Министерство цифрового развития"],
        [[159, 23], "Министр Минцифры"],
        [[162, 159], "Министр Минцифры"],
        [[171, 159], "Министр Минцифры"],
        [[160], "Министерство цифрового развития"],
        [[161], "Министерство цифрового развития"],
        [[162], "Министерство цифрового развития"],
        [[163], "МВД"],
        [[164, 139], "Маткап"],
        [[165], "Маткап"],
        [[166], "Маткап"],
        [[168], "Министр Минцифры"],
        [[170], "Здрав"],
        [[171, 58], "Что я могу"],
        [[172], "Дистанционное электронное голосование"],
        [[173], "Наркотики"],
        [[174], "Налог"],
        [[175], "Налог"],
        [[176], "Кадастр"],
        [[177], "Стройка"],
        [[178], "Алименты"],
        [[179], "Арест ФССП"],
        [[181], "Работа"],
        [[182], "Бюро кредитных историй"],
        [[183], "Больничный"],
        [[185], "Брак"],
        [[186], "Бюро кредитных историй"],
        [[187], "Вакцинация"],
        [[188], "Стройка"],
        [[189], "Удостоверение"],
        [[190], "ФССП"],
        [[191], "Водительское удостоверение"],
        [[192], "Удостоверение"],
        [[267, 193], "Министр Минцифры"],
        [[268, 193], "Министр Минцифры"],
        [[194], "Врач"],
        [[195], "Дистанционное электронное голосование"],
        [[197, 9], "Выплата 3-7 лет"],
        [[198], "Выписка"],
        [[199], "Пособие"],
        [[200], "ГИБДД"],
        [[201], "ГИБДД"],
        [[264, 202], "Министр Минцифры"],
        [[268, 202], "Министр Минцифры"],
        [[203], "Голосование (ПОС)"],
        [[239, 204], "Дистанционное электронное голосование"],
        [[280, 204], "Дистанционное электронное голосование"],
        [[205], "Оплата"],
        [[206], "Стройка"],
        [[207], "Ребенок"],
        [[208, 204], "Дистанционное электронное голосование"],
        [[292, 225, 210, 185], "Документы после заключения брака"],
        [[312, 292, 210, 185], "Документы после заключения брака"],
        [[212], "Стройка"],
        [[213], "Дубликат"],
        [[216], "Дистанционное электронное голосование"],
        [[217], "Росреестр"],
        [[218], "Есиа"],
        [[219], "Решаем вместе (жалоба)"],
        [[220], "Стройка"],
        [[221], "Стройка"],
        [[222], "Загран-паспорт"],
        [[223], "Загс"],
        [[226], "Брак"],
        [[227], "Работа"],
        [[228, 194], "Врач"],
        [[229], "Запись"],
        [[230], "Оплата"],
        [[231, 196], "Запрет на выезд за рубеж (ФССП)"],
        [[232], "Есиа"],
        [[233, 204], "Дистанционное электронное голосование"],
        [[234, 214], "Дистанционное электронное голосование"],
        [[335, 234], "Дистанционное электронное голосование"],
        [[235], "Здрав"],
        [[236], "Земельный (ПГС)"],
        [[237], "Стройка"],
        [[238], "ИНН"],
        [[239, 204], "Дистанционное электронное голосование"],
        [[240], "Дистанционное электронное голосование"],
        [[301, 241], "Исполнительное производство (ФССП)"],
        [[242], "Исполнительное производство (ФССП)"],
        [[243], "Личный Кабинет"],
        [[244], "Кадастр"],
        [[246], "Маткап"],
        [[247], "Стройка"],
        [[248], "Запись"],
        [[249], "Covid"],
        [[251], "Covid"],
        [[252], "Бюро кредитных историй"],
        [[253], "Личный Кабинет"],
        [[254], "Личный Кабинет"],
        [[255], "Льгота"],
        [[257], "Министр Минцифры"],
        [[258, 245], "Маткап"],
        [[259], "Маткап"],
        [[260], "Маткап"],
        [[261], "МВД"],
        [[262], "Здрав"],
        [[263, 250], "Министерство цифрового развития"],
        [[321, 263], "Министерство цифрового развития"],
        [[349, 263], "Министерство цифрового развития"],
        [[268, 265], "Министр Минцифры"],
        [[321, 265], "Министр Минцифры"],
        [[349, 265], "Министр Минцифры"],
        [[266], "Министерство цифрового развития"],
        [[267], "Министерство цифрового развития"],
        [[268], "Министерство цифрового развития"],
        [[270], "Налог"],
        [[271], "Наркотики"],
        [[272], "Налог"],
        [[273], "Кадастр"],
        [[274], "Стройка"],
        [[275], "Голосование (ПОС)"],
        [[276], "Голосование (ПОС)"],
        [[334, 277], "Дистанционное электронное голосование"],
        [[278], "Стройка"],
        [[279, 196], "Запрет на выезд за рубеж (ФССП)"],
        [[281], "Оплата"],
        [[282], "Оружие"],
        [[283], "Отменить"],
        [[284], "Удостоверение охранника"],
        [[285], "Паспорт"],
        [[286], "Пенсионный"],
        [[287], "Стройка"],
        [[288], "Подтверждение УЗ"],
        [[289], "Решаем вместе (жалоба)"],
        [[290], "Брак"],
        [[291], "Решаем вместе (жалоба)"],
        [[293], "Пособие"],
        [[293, 9], "Выплата 3-7 лет"],
        [[320, 294, 209], "ИЖС"],
        [[295], "Стройка"],
        [[296], "Оплата"],
        [[297], "Права/право"],
        [[298], "Снятие"],
        [[299], "Covid"],
        [[300], "ФССП"],
        [[302], "Дистанционное электронное голосование"],
        [[303], "Исполнительное производство (ФССП)"],
        [[304], "Пенсионный"],
        [[305], "Работа"],
        [[306], "Развод"],
        [[307], "Развод"],
        [[308], "Стройка"],
        [[309], "Голосование (ПОС)"],
        [[310], "Развод"],
        [[311], "Ребенок"],
        [[313], "Голосование (ПОС)"],
        [[314], "Стройка"],
        [[315], "Решаем вместе (жалоба)"],
        [[316, 256], "Что я могу"],
        [[317], "Росреестр"],
        [[318], "Стройка"],
        [[319], "Стройка"],
        [[322], "Сертификат"],
        [[323], "Голосование (ПОС)"],
        [[324], "Смерть"],
        [[325], "СНИЛС"],
        [[326], "Снятие"],
        [[327], "Решаем вместе (жалоба)"],
        [[328], "Справка"],
        [[329], "Стройка"],
        [[330, 211], "Судебная задолженность (ФССП)"],
        [[330, 224], "Судебная задолженность (ФССП)"],
        [[331], "Справка"],
        [[332], "Covid"],
        [[333], "Covid"],
        [[334], "Дистанционное электронное голосование"],
        [[334, 204], "Дистанционное электронное голосование"],
        [[336], "Работа"],
        [[337, 269], "Что я могу"],
        [[337, 342], "Что я могу"],
        [[338], "Стройка"],
        [[339, 204], "Дистанционное электронное голосование"],
        [[340], "Удостоверение"],
        [[341], "Есиа"],
        [[343], "Смерть"],
        [[344, 271], "Наркотики"],
        [[345, 215], "Дистанционное электронное голосование"],
        [[346], "Есиа"],
        [[347], "ФССП"],
        [[348], "Дистанционное электронное голосование"],
        [[349, 180], "Что я могу"],
        [[350], "Министр Минцифры"],
        [[351], "Запись"],
        [[352], "Электронный документ"]
    ]);


    let tree = ternarySearchTree();
    for (const word of map.keys()) {
        tree.add(word.toLowerCase());
    }

    let text = document.querySelector("input");
    let output = document.querySelector("#wordsOutput");
    let similarityText = document.querySelector("#similarityText")
    text.addEventListener("input", function () {
        resetStopwatch();
        startStopwatch();
        let vector = new Map();
        for (const key of map.values()) {
            vector.set(key, 0);
        }
        let vec = [];
        let inputWordsList = text.value.split(" ");
        for (const item of inputWordsList) {
            if (item.length > 0) {
                for (let i = item.length; i > 0; --i) {
                    let checked = tree.has(item.toLowerCase().substr(0, i), true);
                    if (checked) {
                        vec.push(map.get(item.toLowerCase().substr(0, i)));
                        break;
                    } else {
                        output.textContent = "none";
                    }
                }
            }

        }
        let maxSimilarity = 0.0;
        let similarVector = [];
        for (const baseVec of quezes.keys()) {
            let multipliedVector = [];
            for (const h of vec) {
                if (baseVec.includes(h)) {
                    multipliedVector.push(h);
                }
            }
            let similarity = multipliedVector.length/Math.sqrt(vec.length*baseVec.length);

            if(similarity===1.0){
                maxSimilarity = 1.0;
                similarVector = baseVec;
                break;
            }else{
                if(similarity>maxSimilarity){
                    maxSimilarity = similarity;
                    similarVector = baseVec;
                }
            }

        }
        output.textContent = quezes.get(similarVector);
        similarityText.textContent = maxSimilarity;
        stopStopwatch();
    });

</script>
</body>
</html>

